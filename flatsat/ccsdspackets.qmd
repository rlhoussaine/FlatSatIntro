
# CCSDS Space Communication Protocols

CCSDS standards ensure interoperability in space communications, defining three main protocols:
- **Space Packet Protocol (SPP)**: Structures and transports space data.
- **Telecommand (TC) Protocol**: Sends commands from ground to a satellite.
- **Telemetry (TM) Protocol**: Returns satellite telemetry to the ground.

---

## Space Packet Protocol (SPP)

SPP (CCSDS 133.0-B-2) structures and transports data in "space packets."

### SPP Packet Structure

A Space Packet shall include the defined fields, positioned contiguously, in the
following sequence:
1. Packet Primary Header (6 octets, mandatory);
2. Packet Data Field (from 1 to 65536 octets, mandatory).

*A Space Packet shall consist of at least 7 and at most 65542 octets.*

![Space Packet Structural Components](images/spacepacket.png)

### Key Features
- **Application Identification**: Uses the APID (Application Process Identifier) field.
- **Data Flexibility**: Variable packet sizes for adaptability.
- **Layer Independence**: Compatible with various link protocols.

### Packet primary header

The Packet Primary Header is mandatory and shall consist of four fields, positioned
contiguously, in the following sequence:
- Packet Version Number (3 bits, mandatory);
- Packet Identification Field (13 bits, mandatory);
- Packet Sequence Control Field (16 bits, mandatory);
- Packet Data Length (16 bits, mandatory).

![](images/primary.png)

### Packet secondary header

1. The purpose of the Packet Secondary Header is to allow (but not require) a mission-specific means for consistently placing ancillary data (time, internal data field format,spacecraft position/attitude, etc.) in the same location within a Space Packet. Theformat of the secondary header, if present, is managed and mission specific.

2. Secondary Header types are registered with SANA (reference [5]), and the actualcontents of the secondary header are ‘managed’ at the SPP service user interface. The service user of the SPP Packet Service provides the SPP service provider with a predefined space packet in the PACKET.request, while the service user of the SPP Octet String Service provides the SPP service provider with a predefined space

---

## TC TRANSFER FRAME

A TC Transfer Frame shall encompass the major fields, positioned contiguously, in the following sequence:
1. Transfer Frame Header (5 octets, mandatory);
2. Transfer Frame Data Field (up to 1019 or 1017 octets, mandatory);
3. Frame Error Control Field (2 octets, optional).

![TC Transfer Frame Structural Components](images/TCframe.png)

NOTES :
- The TC Transfer Frame is the protocol data unit transmitted from the sending end tothe receiving end by the TC Space Data Link Protocol. In this Recommended Standard, the TC Transfer Frame is also called the Transfer Frame or Frame for simplicity.
- The maximum Transfer Frame length allowed by a particular spacecraft or ground implementation on a particular Virtual Channel may be less than the maximum specified here.
- The structural components of the TC Transfer Frame are shown in figure.

### Tranfer frame primary header


The Transfer Frame Primary Header is mandatory and shall consist of eight fields, positioned contiguously, in the following sequence:
- Transfer Frame Version Number (2 bits, mandatory);
- Bypass Flag (1 bit, mandatory);
- Control Command Flag (1 bit, mandatory);
- Reserved Spare (2 bits, mandatory);
- Spacecraft Identifier (10 bits, mandatory);
- Virtual Channel Identifier (6 bits, mandatory);
- Frame Length (10 bits, mandatory);
- Frame Sequence Number (8 bits, mandatory).
- 
NOTE – The format of the Transfer Frame Primary Header is shown in figure.

![Transfer Frame Primary Header](images/TCprimary.png)
- - -


---

### Protocol Comparison

| Protocol | OSI Layer    | Main Function                    | Security      |
|----------|--------------|----------------------------------|---------------|
| SPP      | Application  | Transports data as packets       | N/A           |
| TC       | Data Link    | Sends commands                   | SDLS Support  |
| TM       | Data Link    | Sends telemetry                  | SDLS Support  |

---

## Conclusion
Both CAN-TS and CANopen have crucial roles in embedded systems, each suited for specific applications: CAN-TS for memory-limited aerospace applications, CANopen for complex industrial systems.

For more details, see the full document on the [ESA website](https://indico.esa.int/event/276/contributions/4535/attachments/3482/4593/W32_-_CAN-TS_protocol_for_memory_constrained_embedded_application.pdf).

---
